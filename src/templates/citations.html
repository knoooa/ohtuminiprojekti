{% extends "layout.html" %}

{% block title %}Saved Citations{% endblock %}

{% block body %}
<h1>ğŸ“š Saved Citations</h1>
<div class="nav-links">
  <a href="{{ url_for('index') }}">Create New Citation</a>
  <a href="{{ url_for('citations_search') }}">Search Citations</a>
</div>

{% if citations %}
<p style="color: #666; font-size: 16px; margin-top: 20px;">
  <strong>{{ citations|length }}</strong> citation(s) found
</p>
{% for c in citations %}
<div class="citation" id="{{ c.id }}-{{c.citation_key}}">
  <p><strong>@{{ c.entry_type }}</strong> &mdash; <strong>{{ c.citation_key }}</strong></p>
  <p style="margin-top: 8px;">{{ c.to_human_readable() }}</p>
  <div style="margin-top: 12px;">
    <form method="GET" action="{{ url_for('edit_citation', citation_id=c.id) }}" style="display:inline;">
      <button type="submit">âœï¸ Edit</button>
    </form>
    <form method="POST" action="{{ url_for('delete_citation', citation_id=c.id) }}" style="display:inline;">
      <button type="submit" class="btn-danger" onclick="return confirm('Are you sure you want to delete this citation?')">ğŸ—‘ï¸ Delete</button>
    </form>
    <form method="GET" action="{{ url_for('show_bibtex', citation_id=c.id) }}" style="display:inline;">
      <button type="submit" class="btn-secondary">ğŸ“„ View BibTeX</button>
    </form>
  </div>
</div>
{% endfor %}
{% else %}
<div style="text-align: center; padding: 60px 20px; background: #f8f9fa; border-radius: 8px; margin-top: 30px;">
  <h2 style="color: #999;">No saved citations yet</h2>
  <p style="color: #999; margin: 20px 0;">Start by creating your first citation!</p>
  <a href="{{ url_for('index') }}" style="display: inline-block; padding: 12px 24px; background: #667eea; color: white; border-radius: 6px; text-decoration: none; font-weight: 500;">Create Citation</a>
</div>
{% endif %}
{% endblock %}
